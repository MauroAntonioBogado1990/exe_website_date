<?xml version='1.0' encoding='utf-8'?>
<odoo>
<!-- 
<record id="menu_info_newclient" model="website.menu">
        <field name="name">Nuevos clientes</field>
        <field name="url">/nuevo_cliente</field>
        <field name="sequence" eval="85"/>
        <field name="parent_id" ref="website.menu_site"/>
        </record> -->
<record id="menu_info_newclient" model="website.menu">
  <field name="name">Nuevos clientes</field>
  <field name="url">/nuevo_cliente</field>
  <field name="sequence" eval="85"/>
</record>

<template id="template_nuevo_cliente_form" name="Formulario Nuevos Clientes">
  <t t-call="website.layout">
    <div class="container mt-5">
      <form action="/nuevo_cliente/enviar" method="post" class="o_form">
       <!-- Nombre y Local -->
          <div class="col-md-6 mb-3">
            <label for="name">Nombre completo</label>
            <input type="text" name="name" id="name" class="form-control" required="required"/>
          </div>
          <div class="col-md-6 mb-3">
            <label for="local_name">Nombre del local</label>
            <input type="text" name="local_name" id="local_name" class="form-control"/>
          </div>

          <!-- Ubicación -->
          <div class="col-md-6 mb-3">
            <label for="city">Localidad</label>
            <input type="text" name="city" id="city" class="form-control"/>
          </div>
          <div class="col-md-6 mb-3">
            <label for="state_id">Provincia</label>
            <select name="state_id" id="state_id" class="form-control">
              <t t-foreach="states" t-as="state">
                <option t-att-value="state.id"><t t-esc="state.name"/></option>
              </t>
            </select>
          </div>

          <!-- Dirección -->
          <div class="col-md-6 mb-3">
            <label for="street">Dirección</label>
            <input type="text" name="street" id="street" class="form-control"/>
          </div>
          <div class="col-md-6 mb-3">
            <label for="zip">Código postal</label>
            <input type="text" name="zip" id="zip" class="form-control"/>
          </div>

          <!-- Datos fiscales -->
          <div class="col-md-6 mb-3">
            <label for="afip_id">Responsabilidad ante AFIP</label>
            <select name="afip_id" id="afip_id" class="form-control">
             <t t-foreach="afip_responsabilities" t-as="afip">
                <option t-att-value="afip.id"><t t-esc="afip.name"/></option>
              </t>
            </select>
          </div>
          <div class="col-md-6 mb-3">
            <label for="vat">CUIT</label>
            <input type="hidden" name="id_type" value="CUIT"/>
            <input type="text" name="vat" id="vat" class="form-control"/>
          </div>

          <!-- Contacto -->
          <div class="col-md-6 mb-3">
            <label for="mobile">Celular con WhatsApp</label>
            <input type="text" name="mobile" id="mobile" class="form-control"/>
          </div>
          <div class="col-md-6 mb-3">
            <label for="phone">Teléfono</label>
            <input type="text" name="phone" id="phone" class="form-control"/>
          </div>
          <div class="col-md-12 mb-3">
            <label for="email">Correo electrónico</label>
            <input type="email" name="email" id="email" class="form-control"/>
          </div>

          <!-- Dirección de entrega -->
          <div class="col-12">
            <hr/>
            <h5 class="mt-3">Dirección de Entrega</h5>
          </div>
          <div class="col-md-6 mb-3">
            <label for="entrega_street">Calle y altura</label>
            <input type="text" name="entrega_street" id="entrega_street" class="form-control"/>
          </div>
          <div class="col-md-6 mb-3">
            <label for="entrega_zip">Código postal</label>
            <input type="text" name="entrega_zip" id="entrega_zip" class="form-control"/>
          </div>
          <div class="col-md-6 mb-3">
            <label for="entrega_city">Localidad</label>
            <input type="text" name="entrega_city" id="entrega_city" class="form-control"/>
          </div>
          <div class="col-md-6 mb-3">
            <label for="entrega_state_id">Provincia</label>
            <select name="entrega_state_id" id="entrega_state_id" class="form-control">
              <t t-foreach="states" t-as="state">
                <option t-att-value="state.id"><t t-esc="state.name"/></option>
              </t>
            </select>
          </div>

          <!-- Comentarios -->
          <div class="col-12">
            <hr/>
            <h5 class="mt-3">Información adicional</h5>
          </div>
          <div class="col-md-12 mb-3">
            <label for="transporte">Transporte preferido o expreso</label>
            <input type="text" name="transporte" id="transporte" class="form-control"/>
          </div>
          <!-- <div class="col-md-12 mb-3">
            <label for="trabaja_mercaderia">¿Estás trabajando con nuestra mercadería?</label>
            <textarea name="trabaja_mercaderia" id="trabaja_mercaderia" class="form-control" rows="2"></textarea>
          </div>
          <div class="col-md-12 mb-4">
            <label for="origen_producto">¿Cómo conociste nuestros productos / proveedor actual?</label>
            <textarea name="origen_producto" id="origen_producto" class="form-control" rows="2"></textarea>
          </div> -->
                    <!-- ¿Trabaja con mercadería? -->
          <div class="col-md-12 mb-3">
            <label>¿Estás trabajando con nuestra mercadería?</label><br/>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" name="trabaja_mercaderia" id="mercaderia_si" value="Sí" onchange="toggleOrigenPregunta('si')"/>
              <label class="form-check-label" for="mercaderia_si">Sí</label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" name="trabaja_mercaderia" id="mercaderia_no" value="No" onchange="toggleOrigenPregunta('no')"/>
              <label class="form-check-label" for="mercaderia_no">No</label>
            </div>
          </div>

          <!-- Pregunta condicional: SI -->
          <div class="col-md-12 mb-4" id="pregunta_si" style="display: none;">
            <label for="origen_producto_si">¿A quién le compras o comprabas los repuestos?</label>
            <textarea name="origen_producto_si" id="origen_producto_si" class="form-control" rows="2"></textarea>
          </div>

          <!-- Pregunta condicional: NO -->
          <div class="col-md-12 mb-4" id="pregunta_no" style="display: none;">
            <label for="origen_producto_no">¿Cómo conociste nuestros productos?</label>
            <textarea name="origen_producto_no" id="origen_producto_no" class="form-control" rows="2"></textarea>
          </div>

          <!-- Script para mostrar/ocultar -->
          <script>
            function toggleOrigenPregunta(respuesta) {
              document.getElementById('pregunta_si').style.display = respuesta === 'si' ? 'block' : 'none';
              document.getElementById('pregunta_no').style.display = respuesta === 'no' ? 'block' : 'none';
            }
          </script>

          <!-- Botón enviar -->
          <div class="col-12 text-center">
            <button type="submit" class="btn btn-success btn-lg px-4">ENVIAR</button>
          </div>

      </form>
    </div>
  </t>
</template>

<template id="template_nuevo_cliente_gracias" name="Gracias por tu contacto">
  <t t-call="website.layout">
    <div class="oe_structure">
      <section class="container py-5">
        <div class="row justify-content-center">
          <div class="col-md-8 text-center">
            <h1 class="display-4 mb-4 text-success">¡Gracias por registrarte!</h1>
            <p class="lead mb-3">Tu solicitud fue recibida correctamente.</p>
            <p class="mb-4">Nos pondremos en contacto a la brevedad para continuar con el proceso.</p>
            <a href="/" class="btn btn-outline-primary btn-lg">
              Volver a la página de inicio
            </a>
          </div>
        </div>
      </section>
    </div>
  </t>  
</template>




</odoo>
